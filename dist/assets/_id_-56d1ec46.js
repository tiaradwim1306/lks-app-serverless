import{u as xe,V as we}from"./VChip-e98e4669.js";import{E as p,o as _,s as I,a as s,ar as g,f as n,w as k,t as N,ah as X,v as D,ax as H,l as m,C as Te,L as re,m as ze,b as _e,bu as Ce,g as le,bo as Ve,bn as Ie,bv as Me,z,bw as ue,az as Re,a4 as $e,e as ae,bx as de,aB as Oe,bm as Be,ap as Pe,by as De,ag as Ee,ai as te,X as Ae,D as qe,a8 as Ye,aj as Fe,M as P,ak as Ne,aG as He,b4 as Le,aw as Ge,I as je,c as j,b6 as We,aV as Z,k as fe,V as W,b7 as Xe,aW as Ue,ae as ve,a$ as me,b8 as ee,af as Ke,p as Qe,bz as Je,q as Ze}from"./index-43b2340c.js";import{a as et,s as tt}from"./easing-9f15041e.js";const st={class:"shadow-none pa-5 border-2 border-primary border-dashed rounded-lg mt-3"},lt={class:"d-flex flex-column"},at={class:"d-flex flex-row justify-space-between align-center mb-2"},ot={class:"text-lg font-weight-bold"},nt={class:"text-caption"},it={class:"font-weight-bold mr-1"},ct={class:"text-sm"},rt={class:"d-flex flex-row justify-space-between align-center"},ut={class:"text-md font-weight-bold"},dt={class:"text-md mx-4"},ft={__name:"TicketItem",props:{id:{type:String,required:!1},title:{type:String,required:!0},desc:{type:String,required:!0,default:"No description available."},stock:{type:Number,required:!0,default:0},price:{type:Number,required:!0}},setup(e){const u=e,o=xe(),r=p(()=>{const l=o.ticketOrder.find(t=>t.ticketId===u.id);return(l==null?void 0:l.qty)||0}),x=()=>{o.totalTickets<4&&u.stock>0&&o.addOrderItem(u.id)},i=()=>{const l=o.ticketOrder.find(d=>d.ticketId===u.id);((l==null?void 0:l.qty)||0)>0&&o.removeOrderItem(u.id)};return(l,t)=>(_(),I("div",st,[s("div",lt,[s("div",at,[s("span",ot,g(e.title),1),n(we,{variant:"outlined",color:"success",size:"small"},{default:k(()=>[s("span",nt,[s("span",it,g(e.stock),1),N(" Ticket Available.")])]),_:1})]),s("span",ct,g(e.desc||"No description."),1)]),n(X,{class:"border-dashed border-opacity-25 my-3",thickness:1}),s("div",rt,[s("span",ut,g(e.price?"Rp "+parseInt(e.price).toLocaleString("id-ID"):"Free"),1),s("div",null,[n(H,{size:"18",icon:"",variant:"outlined",onClick:i},{default:k(()=>[n(D,{icon:"tabler-minus",size:"14"})]),_:1}),s("span",dt,g(m(r)),1),n(H,{size:"18",icon:"",variant:"outlined",onClick:x},{default:k(()=>[n(D,{icon:"tabler-plus",size:"14"})]),_:1})])])]))}};function he(e){const o=Math.abs(e);return Math.sign(e)*(o/((1/.501-2)*(1-o)+1))}function be(e){let{selectedElement:u,containerSize:o,contentSize:r,isRtl:x,currentScrollOffset:i,isHorizontal:l}=e;const t=l?u.clientWidth:u.clientHeight,d=l?u.offsetLeft:u.offsetTop,c=x&&l?r-d-t:d,h=o+i,w=t+c,y=t*.4;return c<=i?i=Math.max(c-y,0):h<=w&&(i=Math.min(i-(h-w-y),r-o)),i}function vt(e){let{selectedElement:u,containerSize:o,contentSize:r,isRtl:x,isHorizontal:i}=e;const l=i?u.clientWidth:u.clientHeight,t=i?u.offsetLeft:u.offsetTop,d=x&&i?r-t-l/2-o/2:t+l/2-o/2;return Math.min(r-o,Math.max(0,d))}const mt=Symbol.for("vuetify:v-slide-group"),pe=Te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:mt},nextIcon:{type:re,default:"$next"},prevIcon:{type:re,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ze(),..._e(),...Ce({selectedClass:"v-slide-group-item--active"})},"v-slide-group"),ge=le()({name:"VSlideGroup",props:pe(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:o}=u;const{isRtl:r}=Ve(),{mobile:x}=Ie(),i=Me(e,e.symbol),l=z(!1),t=z(0),d=z(0),c=z(0),h=p(()=>e.direction==="horizontal"),{resizeRef:w,contentRect:y}=ue(),{resizeRef:b,contentRect:$}=ue(),C=p(()=>i.selected.value.length?i.items.value.findIndex(a=>a.id===i.selected.value[0]):-1),S=p(()=>i.selected.value.length?i.items.value.findIndex(a=>a.id===i.selected.value[i.selected.value.length-1]):-1);if(Re){let a=-1;$e(()=>[i.selected.value,y.value,$.value,h.value],()=>{cancelAnimationFrame(a),a=requestAnimationFrame(()=>{if(y.value&&$.value){const f=h.value?"width":"height";d.value=y.value[f],c.value=$.value[f],l.value=d.value+1<c.value}if(C.value>=0&&b.value){const f=b.value.children[S.value];C.value===0||!l.value?t.value=0:e.centerActive?t.value=vt({selectedElement:f,containerSize:d.value,contentSize:c.value,isRtl:r.value,isHorizontal:h.value}):l.value&&(t.value=be({selectedElement:f,containerSize:d.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:t.value,isHorizontal:h.value}))}})})}const M=z(!1);let v=0,R=0;function E(a){const f=h.value?"clientX":"clientY";R=(r.value&&h.value?-1:1)*t.value,v=a.touches[0][f],M.value=!0}function A(a){if(!l.value)return;const f=h.value?"clientX":"clientY",V=r.value&&h.value?-1:1;t.value=V*(R+v-a.touches[0][f])}function L(a){const f=c.value-d.value;t.value<0||!l.value?t.value=0:t.value>=f&&(t.value=f),M.value=!1}function O(){w.value&&(w.value[h.value?"scrollLeft":"scrollTop"]=0)}const q=z(!1);function U(a){if(q.value=!0,!(!l.value||!b.value)){for(const f of a.composedPath())for(const V of b.value.children)if(V===f){t.value=be({selectedElement:V,containerSize:d.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:t.value,isHorizontal:h.value});return}}}function B(a){q.value=!1}function K(a){var f;!q.value&&!(a.relatedTarget&&((f=b.value)!=null&&f.contains(a.relatedTarget)))&&T()}function oe(a){b.value&&(h.value?a.key==="ArrowRight"?T(r.value?"prev":"next"):a.key==="ArrowLeft"&&T(r.value?"next":"prev"):a.key==="ArrowDown"?T("next"):a.key==="ArrowUp"&&T("prev"),a.key==="Home"?T("first"):a.key==="End"&&T("last"))}function T(a){var f,V,ne,ie,ce;if(b.value)if(!a)(f=Oe(b.value)[0])==null||f.focus();else if(a==="next"){const Y=(V=b.value.querySelector(":focus"))==null?void 0:V.nextElementSibling;Y?Y.focus():T("first")}else if(a==="prev"){const Y=(ne=b.value.querySelector(":focus"))==null?void 0:ne.previousElementSibling;Y?Y.focus():T("last")}else a==="first"?(ie=b.value.firstElementChild)==null||ie.focus():a==="last"&&((ce=b.value.lastElementChild)==null||ce.focus())}function F(a){const f=t.value+(a==="prev"?-1:1)*d.value;t.value=Be(f,0,c.value-d.value)}const G=p(()=>{let a=t.value>c.value-d.value?-(c.value-d.value)+he(c.value-d.value-t.value):-t.value;t.value<=0&&(a=he(-t.value));const f=r.value&&h.value?-1:1;return{transform:`translate${h.value?"X":"Y"}(${f*a}px)`,transition:M.value?"none":"",willChange:M.value?"transform":""}}),Q=p(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),J=p(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!x.value;case!0:return l.value||Math.abs(t.value)>0;case"mobile":return x.value||l.value||Math.abs(t.value)>0;default:return!x.value&&(l.value||Math.abs(t.value)>0)}}),ke=p(()=>Math.abs(t.value)>0),Se=p(()=>c.value>Math.abs(t.value)+d.value);return ae(()=>n(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":J.value,"v-slide-group--is-overflowing":l.value},e.class],style:e.style,tabindex:q.value||i.selected.value.length?-1:0,onFocus:K},{default:()=>{var a,f,V;return[J.value&&n("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ke.value}],onClick:()=>F("prev")},[((a=o.prev)==null?void 0:a.call(o,Q.value))??n(de,null,{default:()=>[n(D,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),n("div",{key:"container",ref:w,class:"v-slide-group__container",onScroll:O},[n("div",{ref:b,class:"v-slide-group__content",style:G.value,onTouchstartPassive:E,onTouchmovePassive:A,onTouchendPassive:L,onFocusin:U,onFocusout:B,onKeydown:oe},[(f=o.default)==null?void 0:f.call(o,Q.value)])]),J.value&&n("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Se.value}],onClick:()=>F("next")},[((V=o.next)==null?void 0:V.call(o,Q.value))??n(de,null,{default:()=>[n(D,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:F,scrollOffset:t,focus:T}}});const ye=Symbol.for("vuetify:v-tabs"),se=le()({name:"VTab",props:{fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Pe(De({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},setup(e,u){let{slots:o,attrs:r}=u;const{textColorClasses:x,textColorStyles:i}=Ee(e,"sliderColor"),l=p(()=>e.direction==="horizontal"),t=z(!1),d=z(),c=z();function h(w){var b,$;let{value:y}=w;if(t.value=y,y){const C=($=(b=d.value)==null?void 0:b.$el.parentElement)==null?void 0:$.querySelector(".v-tab--selected .v-tab__slider"),S=c.value;if(!C||!S)return;const M=getComputedStyle(C).color,v=C.getBoundingClientRect(),R=S.getBoundingClientRect(),E=l.value?"x":"y",A=l.value?"X":"Y",L=l.value?"right":"bottom",O=l.value?"width":"height",q=v[E],U=R[E],B=q>U?v[L]-R[L]:v[E]-R[E],K=Math.sign(B)>0?l.value?"right":"bottom":Math.sign(B)<0?l.value?"left":"top":"center",T=(Math.abs(B)+(Math.sign(B)<0?v[O]:R[O]))/Math.max(v[O],R[O]),F=v[O]/R[O],G=1.5;et(S,{backgroundColor:[M,""],transform:[`translate${A}(${B}px) scale${A}(${F})`,`translate${A}(${B/G}px) scale${A}(${(T-1)/G+1})`,""],transformOrigin:Array(3).fill(K)},{duration:225,easing:tt})}}return ae(()=>{const[w]=H.filterProps(e);return n(H,te({symbol:ye,ref:d,class:["v-tab",e.class],style:e.style,tabindex:t.value?0:-1,role:"tab","aria-selected":String(t.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},w,r,{"onGroup:selected":h}),{default:()=>{var y;return[((y=o.default)==null?void 0:y.call(o))??e.text,!e.hideSlider&&n("div",{ref:c,class:["v-tab__slider",x.value],style:i.value},null)]}})}),{}}});function ht(e){return e?e.map(u=>typeof u=="string"?{title:u,value:u}:u):[]}const bt=le()({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...pe({mandatory:"force"}),...Ae(),..._e()},emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:o}=u;const r=qe(e,"modelValue"),x=p(()=>ht(e.items)),{densityClasses:i}=Ye(e),{backgroundColorClasses:l,backgroundColorStyles:t}=Fe(P(e,"bgColor"));return Ne({VTab:{color:P(e,"color"),direction:P(e,"direction"),stacked:P(e,"stacked"),fixed:P(e,"fixedTabs"),sliderColor:P(e,"sliderColor"),hideSlider:P(e,"hideSlider")}}),ae(()=>{const[d]=ge.filterProps(e);return n(ge,te(d,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,l.value,e.class],style:[{"--v-tabs-height":He(e.height)},t.value,e.style],role:"tablist",symbol:ye}),{default:()=>[o.default?o.default():x.value.map(c=>n(se,te(c,{key:c.title}),null))]})}),{}}}),gt={class:"px-3"},xt={class:"d-flex flex-column"},_t={class:"pt-5"},pt={key:0},yt=["innerHTML"],kt={key:1},St=s("span",{class:"font-weight-bold text-sm font-italic text-error"},"Notes: You can only order 4 ticket.",-1),wt={key:0,class:"d-flex flex-column"},Tt={key:1,class:"d-flex flex-column"},zt=s("span",{class:"text-sm text-justify"},"No ticket available.",-1),Ct=[zt],Vt={class:"text-lg font-weight-bold"},It={class:"d-flex align-center text-md font-weight-medium mt-5"},Mt={class:"ml-2"},Rt={class:"d-flex align-center text-md font-weight-medium"},$t={class:"ml-2"},Ot={class:"d-flex align-center text-md font-weight-medium"},Bt={class:"ml-2"},Pt={class:"d-flex flex-row align-center"},Dt=s("div",{class:"d-flex flex-column ml-2"},[s("span",{class:"text-sm text-disabled"},"Organize by"),s("span",{class:"text-md font-weight-bold"},"SW Production")],-1),Et={class:"text-sm align-self-center text-center"},At={class:"font-weight-bold"},qt=s("br",null,null,-1),Yt={key:0,class:"d-flex flex-column"},Ft={class:"font-weight-bold"},Nt={class:"d-flex flex-row align-center justify-space-between"},Ht={class:"text-sm"},Lt={class:"text-sm font-weight-bold"},Gt={class:"d-flex flex-row justify-space-between mb-4 mt-2"},jt={class:"text-sm font-weight-bold"},Wt={class:"text-sm font-weight-bold"},Xt={key:1,class:"mb-4"},Ut=s("span",{class:"text-sm align-self-center text-center"},"You still haven't decided on a ticket. On the Ticket Menu Tab, please choose First.",-1),Kt=[Ut],Qt=s("span",{class:"font-weight-bold"},"Buy Ticket",-1),Jt=s("span",{class:"text-sm align-self-center text-center"},"This event is not published yet.",-1),ss={__name:"[id]",setup(e){const u=Je(),o=Le(),r=xe(),x=Ge(),i=Ze(),l=z([]),t=z(0),d=z(!1),c=p(()=>o.eventDetails),h=p(()=>r.totalTickets),w=p(()=>r.ticketOrder),y=p(()=>r.ticketOrder.length>0?r.ticketOrder.reduce((C,S)=>C+S.amount,0):0),b=async C=>{try{d.value=!0,await o.resetDetails(),await r.resetOrder();const S=await o.getEventById(C),M=S.tickets.length>0?S.tickets.map(v=>({...v,qty:0,amount:0})):[];l.value=M}finally{d.value=!1}},$=()=>{r.totalTickets>0?i.push("/order"):x.setSnackbar("warning","Select at least 1 ticket!",!0)};return je(()=>{b(u.params.id)}),(C,S)=>{const M=ft;return _(),I("div",null,[s("div",gt,[m(d)?(_(),j(We,{key:0,indeterminate:"",rounded:"",height:"2",color:"primary"})):Z("",!0)]),n(Qe,{class:"px-3 mb-4 mt-2"},{default:k(()=>[n(fe,{col:"12",md:"8"},{default:k(()=>[s("div",xt,[n(W,{class:"rounded-lg mb-6"},{default:k(()=>[n(Xe,{"aspect-ratio":16/6,cover:"",src:m(c).image},null,8,["src"])]),_:1}),n(bt,{modelValue:m(t),"onUpdate:modelValue":S[0]||(S[0]=v=>Ue(t)?t.value=v:null),grow:""},{default:k(()=>[n(se,{class:"font-weight-bold text-sm text-uppercase"},{default:k(()=>[N("Description")]),_:1}),n(se,{class:"font-weight-bold text-sm text-uppercase"},{default:k(()=>[N("Ticket")]),_:1})]),_:1},8,["modelValue"]),s("div",_t,[m(t)===0?(_(),I("div",pt,[s("span",{innerHTML:m(c).desc,class:"text-sm text-justify"},null,8,yt)])):Z("",!0),m(t)===1?(_(),I("div",kt,[St,m(l)?(_(),I("div",wt,[(_(!0),I(ve,null,me(m(l),v=>(_(),j(M,{key:v.id,id:v.ticketId,title:v.title,desc:v.desc,price:v.price||0,stock:v.stock||0},null,8,["id","title","desc","price","stock"]))),128))])):(_(),I("div",Tt,Ct))])):Z("",!0)])])]),_:1}),n(fe,{col:"12",md:"4",class:"d-flex flex-column"},{default:k(()=>[n(W,{class:"pa-4 rounded-lg"},{default:k(()=>[s("span",Vt,g(m(c).title),1),s("div",It,[n(D,{size:18,icon:"tabler-calendar"}),s("span",Mt,g(m(ee)(m(c).date).format("DD MMMM YYYY")),1)]),s("div",Rt,[n(D,{size:18,icon:"tabler-tag"}),s("span",$t,g(m(c).category),1)]),s("div",Ot,[n(D,{size:18,icon:"tabler-map-pin"}),s("span",Bt,g(m(c).location),1)]),n(X,{class:"border-dashed border-opacity-25 my-3",thickness:"1"}),s("div",Pt,[n(Ke,{color:"primary",icon:"tabler-building-skyscraper"}),Dt])]),_:1}),m(c).publish?(_(),j(W,{key:0,class:"pa-4 rounded-lg mt-5 d-flex flex-column"},{default:k(()=>[s("span",Et,[N("Registration will close on "),s("span",At,[qt,N(g(m(ee)(m(c).date).format("DD")-2)+" "+g(m(ee)(m(c).date).format("MMMM YYYY"))+".",1)])]),n(X,{class:"border-dashed border-opacity-25 my-3",thickness:"1"}),m(h)>0?(_(),I("div",Yt,[(_(!0),I(ve,null,me(m(w),v=>(_(),I("div",{key:v.ticketId,class:"d-flex flex-column"},[s("span",Ft,g(v.title),1),s("div",Nt,[s("span",Ht,g(v.qty)+" Ticket",1),s("span",Lt,"Rp. "+g(parseInt(v.amount).toLocaleString("id-ID")),1)]),n(X,{class:"border-dashed border-opacity-25 my-2",thickness:"1"})]))),128)),s("div",Gt,[s("span",jt,"Total "+g(m(h))+" ticket",1),s("span",Wt,"Rp. "+g(parseInt(m(y)).toLocaleString("id-ID")),1)])])):(_(),I("div",Xt,Kt)),n(H,{variant:"tonal",rounded:"lg",onClick:$},{default:k(()=>[Qt]),_:1})]),_:1})):(_(),j(W,{key:1,class:"pa-4 rounded-lg mt-5 d-flex flex-column"},{default:k(()=>[Jt]),_:1}))]),_:1})]),_:1})])}}};export{ss as default};
